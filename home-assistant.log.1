2021-11-28 14:50:14 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration average which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration nodered which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration lovelace_gen which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration weatherbit which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration powercalc which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration myenergi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration alarmo which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_4) [homeassistant.loader] We found a custom integration alexa_media which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_6) [homeassistant.loader] We found a custom integration media_player_template which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_3) [homeassistant.loader] We found a custom integration hpprinter which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_5) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration garbage_collection which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration myq which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_7) [homeassistant.loader] We found a custom integration mail_and_packages which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_6) [homeassistant.loader] We found a custom integration auto_backup which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:14 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration pirateweather which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-11-28 14:50:25 WARNING (MainThread) [homeassistant.components.webhook] Received message for unregistered webhook 18c5cb337b92361e3c2bedca7a9415625191a874607fa635050bccb53054adbe from 192.168.1.1
2021-11-28 14:50:27 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'None' has no attribute 'state' when rendering '<ha-icon icon="mdi:home-assistant"></ha-icon>&nbsp;**Add-on update:** &nbsp;&nbsp; {{ states.sensor.supervisor_updates.state }}

> {% for addon in states.sensor.supervisor_updates.attributes.addons %}
> {{ addon.name }}&nbsp; {{ addon.version }} -> {{ addon.version_latest }}
> {% endfor %}

<ha-icon icon="hacs:hacs"></ha-icon>&nbsp;**HACS updates:** &nbsp;&nbsp; {{ states.sensor.hacs.state }}

> {% for repo in states.sensor.hacs.attributes.repositories %}
>  **{{ repo.display_name }}** _{{ repo["installed_version"] }}_ -> _{{repo["available_version"] }}_
> {% endfor %}'
2021-11-28 14:50:27 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: 'None' has no attribute 'attributes' when rendering '<ha-icon icon="mdi:home-assistant"></ha-icon>&nbsp;**Add-on update:** &nbsp;&nbsp; {{ states.sensor.supervisor_updates.state }}

> {% for addon in states.sensor.supervisor_updates.attributes.addons %}
> {{ addon.name }}&nbsp; {{ addon.version }} -> {{ addon.version_latest }}
> {% endfor %}

<ha-icon icon="hacs:hacs"></ha-icon>&nbsp;**HACS updates:** &nbsp;&nbsp; {{ states.sensor.hacs.state }}

> {% for repo in states.sensor.hacs.attributes.repositories %}
>  **{{ repo.display_name }}** _{{ repo["installed_version"] }}_ -> _{{repo["available_version"] }}_
> {% endfor %}'
2021-11-28 14:50:27 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'None' has no attribute 'state' when rendering '<ha-icon icon="mdi:home-assistant"></ha-icon>&nbsp;**Add-on update:** &nbsp;&nbsp; {{ states.sensor.supervisor_updates.state }}

> {% for addon in states.sensor.supervisor_updates.attributes.addons %}
> {{ addon.name }}&nbsp; {{ addon.version }} -> {{ addon.version_latest }}
> {% endfor %}

<ha-icon icon="hacs:hacs"></ha-icon>&nbsp;**HACS updates:** &nbsp;&nbsp; {{ states.sensor.hacs.state }}

> {% for repo in states.sensor.hacs.attributes.repositories %}
>  **{{ repo.display_name }}** _{{ repo["installed_version"] }}_ -> _{{repo["available_version"] }}_
> {% endfor %}'
2021-11-28 14:50:27 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: 'None' has no attribute 'attributes' when rendering '<ha-icon icon="mdi:home-assistant"></ha-icon>&nbsp;**Add-on update:** &nbsp;&nbsp; {{ states.sensor.supervisor_updates.state }}

> {% for addon in states.sensor.supervisor_updates.attributes.addons %}
> {{ addon.name }}&nbsp; {{ addon.version }} -> {{ addon.version_latest }}
> {% endfor %}

<ha-icon icon="hacs:hacs"></ha-icon>&nbsp;**HACS updates:** &nbsp;&nbsp; {{ states.sensor.hacs.state }}

> {% for repo in states.sensor.hacs.attributes.repositories %}
>  **{{ repo.display_name }}** _{{ repo["installed_version"] }}_ -> _{{repo["available_version"] }}_
> {% endfor %}'
2021-11-28 14:50:35 WARNING (SyncWorker_8) [homeassistant.components.local_file.camera] Could not read camera mail_usps image from file: /custom_components/mail_and_packages/mail_none.gif
2021-11-28 14:50:36 WARNING (MainThread) [alexapy.alexalogin] No access token found; falling back to credential login instead of oauth.
2021-11-28 14:50:43 WARNING (MainThread) [homeassistant.setup] Setup of webostv is taking over 10 seconds.
2021-11-28 14:50:46 WARNING (MainThread) [homeassistant.setup] Setup of automation is taking over 10 seconds.
2021-11-28 14:50:46 WARNING (MainThread) [alexapy.alexawebsocket] mac_dms not detected; websocket likely won't connect
2021-11-28 14:50:52 WARNING (MainThread) [aioesphomeapi.reconnect_logic] Can't connect to ESPHome API for 192.168.1.115 @ 192.168.1.115: Error connecting to ('192.168.1.115', 6053): [Errno 113] Connect call failed ('192.168.1.115', 6053)
2021-11-28 14:50:55 WARNING (MainThread) [zigpy_znp.api] Received an unhandled command: SYS.ResetInd.Callback(Reason=<ResetReason.PowerUp: 0>, TransportRev=2, ProductId=1, MajorRel=2, MinorRel=7, MaintRel=1)
2021-11-28 14:51:10 ERROR (MainThread) [zigpy.application] Couldn't start application
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.components.zha.core.gateway] Couldn't start ZNP = Texas Instruments Z-Stack ZNP protocol: CC253x, CC26x2, CC13x2 coordinator
Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/zigpy_znp/api.py", line 395, in request
    response = await response_future
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/zha/core/gateway.py", line 152, in async_initialize
    self.application_controller = await app_controller_cls.new(
  File "/usr/local/lib/python3.9/site-packages/zigpy/application.py", line 69, in new
    await app.startup(auto_form)
  File "/usr/local/lib/python3.9/site-packages/zigpy_znp/zigbee/application.py", line 196, in startup
    return await self._startup(
  File "/usr/local/lib/python3.9/site-packages/zigpy_znp/zigbee/application.py", line 209, in _startup
    await znp.connect()
  File "/usr/local/lib/python3.9/site-packages/zigpy_znp/api.py", line 116, in connect
    self.capabilities = (await self.request(c.SYS.Ping.Req())).Capabilities
  File "/usr/local/lib/python3.9/site-packages/zigpy_znp/api.py", line 395, in request
    response = await response_future
  File "/usr/local/lib/python3.9/site-packages/async_timeout/__init__.py", line 55, in __aexit__
    self._do_exit(exc_type)
  File "/usr/local/lib/python3.9/site-packages/async_timeout/__init__.py", line 92, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError
2021-11-28 14:51:10 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Sonoff Zigbee 3.0 USB Dongle Plus, s/n: 6ad614a8072bec11b2a4cb6540c9ce8d - ITead' for zha integration not ready yet; Retrying in background
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.home_tank_usage', 'change') | float(default=none) * (-1) | round(2) }}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 398, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1698, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 514, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 400, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'') while processing template 'Template("{{ state_attr('sensor.home_tank_usage', 'change') | float(default=none) * (-1) | round(2) }}")' for attribute '_attr_native_value' in entity 'sensor.home_propane_tank_draw'
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ (states('sensor.home_propane_tank_draw') | float(default=none) * 0.133681) | round(6) }}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 398, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1698, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 514, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 400, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'') while processing template 'Template("{{ (states('sensor.home_propane_tank_draw') | float(default=none) * 0.133681) | round(6) }}")' for attribute '_attr_native_value' in entity 'sensor.home_tank_cubic_feet'
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ (states('sensor.home_tank_cubic_feet') | float(default=none) * 0.293) | round(3) }}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 398, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1698, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 514, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 400, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'
2021-11-28 14:51:10 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: unsupported operand type(s) for *: 'NoneType' and 'float'') while processing template 'Template("{{ (states('sensor.home_tank_cubic_feet') | float(default=none) * 0.293) | round(3) }}")' for attribute '_attr_native_value' in entity 'sensor.home_tank_kwh'
2021-11-28 14:51:18 ERROR (MainThread) [homeassistant.config_entries] Error unloading entry 192.168.1.24 for binary_sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 443, in async_unload
    result = await component.async_unload_entry(hass, self)  # type: ignore
  File "/usr/src/homeassistant/homeassistant/components/binary_sensor/__init__.py", line 162, in async_unload_entry
    return await component.async_unload_entry(entry)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_component.py", line 181, in async_unload_entry
    raise ValueError("Config entry was never loaded!")
ValueError: Config entry was never loaded!
2021-11-28 14:51:18 ERROR (MainThread) [homeassistant.config_entries] Error unloading entry 192.168.1.24 for camera
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 443, in async_unload
    result = await component.async_unload_entry(hass, self)  # type: ignore
  File "/usr/src/homeassistant/homeassistant/components/camera/__init__.py", line 368, in async_unload_entry
    return await component.async_unload_entry(entry)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_component.py", line 181, in async_unload_entry
    raise ValueError("Config entry was never loaded!")
ValueError: Config entry was never loaded!
2021-11-28 14:51:18 ERROR (MainThread) [homeassistant.config_entries] Error unloading entry 192.168.1.24 for sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 443, in async_unload
    result = await component.async_unload_entry(hass, self)  # type: ignore
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 134, in async_unload_entry
    return await component.async_unload_entry(entry)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_component.py", line 181, in async_unload_entry
    raise ValueError("Config entry was never loaded!")
ValueError: Config entry was never loaded!
2021-11-28 14:51:18 ERROR (MainThread) [homeassistant.config_entries] Error unloading entry 192.168.1.24 for switch
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 443, in async_unload
    result = await component.async_unload_entry(hass, self)  # type: ignore
  File "/usr/src/homeassistant/homeassistant/components/switch/__init__.py", line 85, in async_unload_entry
    return await component.async_unload_entry(entry)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_component.py", line 181, in async_unload_entry
    raise ValueError("Config entry was never loaded!")
ValueError: Config entry was never loaded!
2021-11-28 15:14:33 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:14:33 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=16, options=TransmitOptions.NONE, radius=0, data=b'\x10<\x00'
2021-11-28 15:14:33 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:14:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:14:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:36 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SrcRtgInd.Callback(DstAddr=0x5DB6, Relays=[0x16FE])
2021-11-28 15:14:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1029, SrcAddr=0x5DB6, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=8702074, TSN=0, Data=b'\x18\x79\x0A\x00\x00\x21\x49\x14', MacSrcAddr=0x16FE, MsgResultRadius=28)
2021-11-28 15:14:36 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=121 command_id=Command.Report_Attributes>
2021-11-28 15:14:36 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] ZCL request 0x000a: [[Attribute(attrid=0, value=<TypeValue type=uint16_t, value=5193>)]]
2021-11-28 15:14:36 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] Attribute report received: measured_value=5193
2021-11-28 15:14:38 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:14:38 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0xCB3D, SrcIEEE=00:12:4b:00:23:97:40:fc, ParentNwk=0x0000)
2021-11-28 15:14:46 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0xCB3D, SrcIEEE=00:12:4b:00:23:97:40:fc, ParentNwk=0x0000)
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0xCB3D, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0xCB3D, NWK=0xCB3D, IEEE=00:12:4b:00:23:97:40:fc, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:14:46 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0xCB3D, NWK=0xCB3D, IEEE=00:12:4b:00:23:97:40:fc, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:14:46 INFO (MainThread) [zigpy.application] New device 0xcb3d (00:12:4b:00:23:97:40:fc) joined the network
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.device] [0xcb3d] Scheduling initialization
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\x3D\xCB\xFC\x40\x97\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\x3D\xCB\xFC\x40\x97\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.zdo] [0xcb3d:zdo] ZDO request ZDOCmd.Device_annce: [0xCB3D, 00:12:4b:00:23:97:40:fc, 128]
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:14:46 INFO (MainThread) [zigpy.device] [0xcb3d] Requesting 'Node Descriptor'
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x11 request
2021-11-28 15:14:46 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCB3D, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=17, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x11=\xcb'
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0xCB3D}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0xCB3D, Status=<Status.SUCCESS: 0>, NWK=0xCB3D, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x11\x00\x3D\xCB\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x11\x00\x3D\xCB\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:14:47 INFO (MainThread) [zigpy.device] [0xcb3d] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 15:14:47 INFO (MainThread) [zigpy.device] [0xcb3d] Discovering endpoints
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x12 request
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCB3D, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=18, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x12=\xcb'
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0xCB3D}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D)
2021-11-28 15:14:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0xCB3D, Status=<Status.SUCCESS: 0>, NWK=0xCB3D, ActiveEndpoints=[1])
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x12\x00\x3D\xCB\x01\x01'
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x12\x00\x3D\xCB\x01\x01'
2021-11-28 15:14:48 INFO (MainThread) [zigpy.device] [0xcb3d] Discovered endpoints: [1]
2021-11-28 15:14:48 INFO (MainThread) [zigpy.device] [0xcb3d] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 15:14:48 INFO (MainThread) [zigpy.endpoint] [0xcb3d:1] Discovering endpoint information
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x13 request
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCB3D, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=19, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x13=\xcb\x01'
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0xCB3D, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D, Endpoint=1)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0xCB3D, NWKAddrOfInterest=0xCB3D, Endpoint=1)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0xCB3D, Status=<Status.SUCCESS: 0>, NWK=0xCB3D, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=0, device_version=0, input_clusters=[0, 3, 1], output_clusters=[6, 3]))
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x13\x00\x3D\xCB\x12\x01\x04\x01\x00\x00\x00\x03\x00\x00\x03\x00\x01\x00\x02\x06\x00\x03\x00'
2021-11-28 15:14:48 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x13\x00\x3D\xCB\x12\x01\x04\x01\x00\x00\x00\x03\x00\x00\x03\x00\x01\x00\x02\x06\x00\x03\x00'
2021-11-28 15:14:48 INFO (MainThread) [zigpy.endpoint] [0xcb3d:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=0, device_version=0, input_clusters=[0, 3, 1], output_clusters=[6, 3])
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x14 request
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=20, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x14\x00\x04\x00\x05\x00')
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=20)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0xCB3D, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=9523415, TSN=0, Data=b'\x18\x14\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x57\x42\x30\x31', MacSrcAddr=0xCB3D, MsgResultRadius=29)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.zcl] [0xcb3d:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=20 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:14:49 INFO (MainThread) [zigpy.device] [0xcb3d] Read model 'WB01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, power:0x0001] out=[on_off:0x0006, identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 15:14:49 INFO (MainThread) [zigpy.device] [0xcb3d] Discovered basic device information for <Device model='WB01' manuf='eWeLink' nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=True>
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='WB01' manuf='eWeLink' nwk=0xCB3D ieee=00:12:4b:00:23:97:40:fc is_initialized=True>
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink WB01 (00:12:4b:00:23:97:40:fc)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.sonoff.button.SonoffButton'>
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.quirks.registry] Found custom device replacement for 00:12:4b:00:23:97:40:fc: <class 'zhaquirks.sonoff.button.SonoffButton'>
2021-11-28 15:14:49 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xCB3D:00:12:4b:00:23:97:40:fc entering async_device_initialized - is_new_join: True
2021-11-28 15:14:49 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xCB3D:00:12:4b:00:23:97:40:fc has joined the ZHA zigbee network
2021-11-28 15:14:49 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): started configuration
2021-11-28 15:14:49 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:ZDO](WB01): 'async_configure' stage succeeded
2021-11-28 15:14:49 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0000]: finished channel configuration
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x15 request
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCB3D, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x16 request
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:97:40:fc, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:97:40:fc, 1, 0, 5, 'WB01') params: FOREIGN KEY constraint failed
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=21, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x15\xfc@\x97#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:97:40:fc, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xCB3D, Src=00:12:4b:00:23:97:40:fc, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCB3D, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=22, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x16\xfc@\x97#\x00K\x12\x00\x01\x06\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:97:40:fc, 'SrcEndpoint': 1, 'ClusterID': 6, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xCB3D, Src=00:12:4b:00:23:97:40:fc, SrcEndpoint=1, ClusterId=6, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xCB3D, Src=00:12:4b:00:23:97:40:fc, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xCB3D, Src=00:12:4b:00:23:97:40:fc, SrcEndpoint=1, ClusterId=6, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:14:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:50 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xCB3D, Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:50 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x15\x00'
2021-11-28 15:14:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 15:14:50 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x17 request
2021-11-28 15:14:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=23, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x17\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 15:14:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xCB3D, Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:51 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x16\x00'
2021-11-28 15:14:51 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: bound 'on_off' cluster: Status.SUCCESS
2021-11-28 15:14:51 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: finished channel configuration
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=23)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCB3D, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=9703869, TSN=0, Data=b'\x18\x17\x07\x00', MacSrcAddr=0xCB3D, MsgResultRadius=29)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy.zcl] [0xcb3d:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=23 command_id=Command.Configure_Reporting_rsp>
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: finished channel configuration
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: 'async_configure' stage succeeded
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): completed configuration
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): stored in registry: ZhaDeviceEntry(name='eWeLink WB01', ieee='00:12:4b:00:23:97:40:fc', last_seen=1638130492.4215045)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x18 request
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=24, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x18\x40\x02\x00')
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=24)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0xCB3D, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=9737727, TSN=0, Data=b'\x18\x18\x0B\x40\x81', MacSrcAddr=0xCB3D, MsgResultRadius=29)
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy.zcl] [0xcb3d:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=24 command_id=Command.Default_Response>
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): started initialization
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:ZDO](WB01): 'async_initialize' stage succeeded
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0000]: initializing channel: from_cache: False
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0000]: finished channel initialization
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: initializing channel: from_cache: False
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x19 request
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: initializing channel: from_cache: False
2021-11-28 15:14:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: finished channel initialization
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=25, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x19\x00\x20\x00\x21\x00')
2021-11-28 15:14:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=25)
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCB3D, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=9771564, TSN=0, Data=b'\x18\x19\x01\x20\x00\x00\x20\x2B\x21\x00\x00\x20\xC8', MacSrcAddr=0xCB3D, MsgResultRadius=29)
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy.zcl] [0xcb3d:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=25 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy.device] [0xcb3d] Extending timeout for 0x1a request
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCB3D), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=26, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x1A\x00\x31\x00\x33\x00')
2021-11-28 15:14:53 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:14:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=26)
2021-11-28 15:14:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCB3D, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=9805601, TSN=0, Data=b'\x18\x1A\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0xCB3D, MsgResultRadius=29)
2021-11-28 15:14:54 DEBUG (MainThread) [zigpy.zcl] [0xcb3d:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=26 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: finished channel initialization
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCB3D:1:0x0006]: 'async_initialize' stage succeeded
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): power source: Battery or Unknown
2021-11-28 15:14:54 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCB3D](WB01): completed initialization
2021-11-28 15:15:04 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=2)
2021-11-28 15:15:04 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:15:08 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:15:08 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:15:09 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:15:11 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:26:10 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:26:10 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=27, options=TransmitOptions.NONE, radius=0, data=b'\x1b<\x00'
2021-11-28 15:26:10 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:26:10 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:26:10 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:10 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0xC09F, SrcIEEE=00:12:4b:00:23:9f:26:37, ParentNwk=0x0000)
2021-11-28 15:26:27 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0xC09F, SrcIEEE=00:12:4b:00:23:9f:26:37, ParentNwk=0x0000)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0xC09F, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0xC09F, NWK=0xC09F, IEEE=00:12:4b:00:23:9f:26:37, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:26:27 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0xC09F, NWK=0xC09F, IEEE=00:12:4b:00:23:9f:26:37, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:26:27 INFO (MainThread) [zigpy.application] New device 0xc09f (00:12:4b:00:23:9f:26:37) joined the network
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Scheduling initialization
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\x9F\xC0\x37\x26\x9F\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\x9F\xC0\x37\x26\x9F\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.zdo] [0xc09f:zdo] ZDO request ZDOCmd.Device_annce: [0xC09F, 00:12:4b:00:23:9f:26:37, 128]
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:26:27 INFO (MainThread) [zigpy.device] [0xc09f] Requesting 'Node Descriptor'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x1c request
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xC09F, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=28, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x1c\x9f\xc0'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0xC09F}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=5970068, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=5970068, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=108, SecurityUse=<Bool.false: 0>, TimeStamp=5970356, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=108, SecurityUse=<Bool.false: 0>, TimeStamp=5970356, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy.device] [0xc09f] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:26:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0xC09F, Status=<Status.SUCCESS: 0>, NWK=0xC09F, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x1C\x00\x9F\xC0\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x1C\x00\x9F\xC0\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:26:28 INFO (MainThread) [zigpy.device] [0xc09f] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 15:26:28 INFO (MainThread) [zigpy.device] [0xc09f] Discovering endpoints
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x1d request
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xC09F, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=29, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x1d\x9f\xc0'
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0xC09F}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F)
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F)
2021-11-28 15:26:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0xC09F, Status=<Status.SUCCESS: 0>, NWK=0xC09F, ActiveEndpoints=[1])
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x1D\x00\x9F\xC0\x01\x01'
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x1D\x00\x9F\xC0\x01\x01'
2021-11-28 15:26:29 INFO (MainThread) [zigpy.device] [0xc09f] Discovered endpoints: [1]
2021-11-28 15:26:29 INFO (MainThread) [zigpy.device] [0xc09f] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 15:26:29 INFO (MainThread) [zigpy.endpoint] [0xc09f:1] Discovering endpoint information
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x1e request
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xC09F, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=30, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'\x1e\x9f\xc0\x01'
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0xC09F, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F, Endpoint=1)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0xC09F, NWKAddrOfInterest=0xC09F, Endpoint=1)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0xC09F, Status=<Status.SUCCESS: 0>, NWK=0xC09F, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x1E\x00\x9F\xC0\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x1E\x00\x9F\xC0\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:26:29 INFO (MainThread) [zigpy.endpoint] [0xc09f:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x1f request
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=31, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x1F\x00\x04\x00\x05\x00')
2021-11-28 15:26:29 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=31)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=6124473, TSN=0, Data=b'\x18\x1F\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=31 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:26:30 INFO (MainThread) [zigpy.device] [0xc09f] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 15:26:30 INFO (MainThread) [zigpy.device] [0xc09f] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=True>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0xC09F ieee=00:12:4b:00:23:9f:26:37 is_initialized=True>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:9f:26:37)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xC09F:00:12:4b:00:23:9f:26:37 entering async_device_initialized - is_new_join: True
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xC09F:00:12:4b:00:23:9f:26:37 has joined the ZHA zigbee network
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): started configuration
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:9f:26:37, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x20 request
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xC09F, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x21 request
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0000]: finished channel configuration
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:9f:26:37, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=32, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b' 7&\x9f#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:9f:26:37, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xC09F, Src=00:12:4b:00:23:9f:26:37, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=33, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x21\x00\x01\x00')
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xC09F, Src=00:12:4b:00:23:9f:26:37, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=33)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=6157928, TSN=0, Data=b'\x18\x21\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=33 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:26:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: started IASZoneChannel configuration
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x22 request
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xC09F, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=34, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'"7&\x9f#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:9f:26:37, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xC09F, Src=00:12:4b:00:23:9f:26:37, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xC09F, Src=00:12:4b:00:23:9f:26:37, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:26:30 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xC09F, Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x20\x00'
2021-11-28 15:26:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x23 request
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=35, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x23\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xC09F, Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x22\x00'
2021-11-28 15:26:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x24 request
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=36, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x24\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 15:26:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=35)
2021-11-28 15:26:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=6272080, TSN=0, Data=b'\x18\x23\x07\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:32 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=35 command_id=Command.Configure_Reporting_rsp>
2021-11-28 15:26:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 15:26:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: finished channel configuration
2021-11-28 15:26:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:26:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=36)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=6305597, TSN=0, Data=b'\x18\x24\x04\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=36 command_id=Command.Write_Attributes_rsp>
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x25 request
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=37, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x25\x00\x00\x00')
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): completed configuration
2021-11-28 15:26:33 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:9f:26:37', last_seen=1638131193.011015)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x26 request
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=38, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x26\x40\x02\x00')
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=37)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=6341091, TSN=0, Data=b'\x18\x25\x0B\x00\x00', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=37 command_id=Command.Default_Response>
2021-11-28 15:26:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=38)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=6381839, TSN=0, Data=b'\x18\x26\x0B\x40\x81', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=38 command_id=Command.Default_Response>
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): started initialization
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: initializing channel: from_cache: False
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x27 request
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: initializing channel: from_cache: False
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x28 request
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0000]: initializing channel: from_cache: False
2021-11-28 15:26:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0000]: finished channel initialization
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=39, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x27\x00\x20\x00\x21\x00')
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=40, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x28\x00\x00\x00')
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=39)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=6415527, TSN=0, Data=b'\x18\x27\x01\x20\x00\x00\x20\x1D\x21\x00\x00\x20\x89', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=39 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy.device] [0xc09f] Extending timeout for 0x29 request
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xC09F), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=41, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x29\x00\x31\x00\x33\x00')
2021-11-28 15:26:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:26:35 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=40)
2021-11-28 15:26:35 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=6449550, TSN=0, Data=b'\x18\x28\x01\x00\x00\x00\x30\x01', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:35 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=40 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:26:35 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: finished channel initialization
2021-11-28 15:26:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=41)
2021-11-28 15:26:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xC09F, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=96, SecurityUse=<Bool.false: 0>, TimeStamp=6547815, TSN=0, Data=b'\x18\x29\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0xC09F, MsgResultRadius=29)
2021-11-28 15:26:36 DEBUG (MainThread) [zigpy.zcl] [0xc09f:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=41 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: finished channel initialization
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xC09F:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): power source: Battery or Unknown
2021-11-28 15:26:36 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xC09F](DS01): completed initialization
2021-11-28 15:26:38 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:26:38 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:35:23 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:35:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=42, options=TransmitOptions.NONE, radius=0, data=b'*<\x00'
2021-11-28 15:35:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:35:23 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:35:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:35:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:35:43 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0xD071, SrcIEEE=00:12:4b:00:23:96:a6:43, ParentNwk=0x0000)
2021-11-28 15:35:43 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0xD071, SrcIEEE=00:12:4b:00:23:96:a6:43, ParentNwk=0x0000)
2021-11-28 15:35:43 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0xD071, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 15:35:43 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0xD071, NWK=0xD071, IEEE=00:12:4b:00:23:96:a6:43, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:35:44 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0xD071, NWK=0xD071, IEEE=00:12:4b:00:23:96:a6:43, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:35:44 INFO (MainThread) [zigpy.application] New device 0xd071 (00:12:4b:00:23:96:a6:43) joined the network
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Scheduling initialization
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\x71\xD0\x43\xA6\x96\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\x71\xD0\x43\xA6\x96\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.zdo] [0xd071:zdo] ZDO request ZDOCmd.Device_annce: [0xD071, 00:12:4b:00:23:96:a6:43, 128]
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:35:44 INFO (MainThread) [zigpy.device] [0xd071] Requesting 'Node Descriptor'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x2b request
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xD071, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=9290285, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=43, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'+q\xd0'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0xD071}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=9290285, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=9291164, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=9291164, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0xD071, Status=<Status.SUCCESS: 0>, NWK=0xD071, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x2B\x00\x71\xD0\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x2B\x00\x71\xD0\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:35:44 INFO (MainThread) [zigpy.device] [0xd071] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 15:35:44 INFO (MainThread) [zigpy.device] [0xd071] Discovering endpoints
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x2c request
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xD071, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=44, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b',q\xd0'
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0xD071}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071)
2021-11-28 15:35:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0xD071, Status=<Status.SUCCESS: 0>, NWK=0xD071, ActiveEndpoints=[1])
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x2C\x00\x71\xD0\x01\x01'
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x2C\x00\x71\xD0\x01\x01'
2021-11-28 15:35:45 INFO (MainThread) [zigpy.device] [0xd071] Discovered endpoints: [1]
2021-11-28 15:35:45 INFO (MainThread) [zigpy.device] [0xd071] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 15:35:45 INFO (MainThread) [zigpy.endpoint] [0xd071:1] Discovering endpoint information
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x2d request
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xD071, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=45, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'-q\xd0\x01'
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0xD071, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071, Endpoint=1)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0xD071, NWKAddrOfInterest=0xD071, Endpoint=1)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0xD071, Status=<Status.SUCCESS: 0>, NWK=0xD071, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x2D\x00\x71\xD0\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x2D\x00\x71\xD0\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:35:45 INFO (MainThread) [zigpy.endpoint] [0xd071:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x2e request
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=46, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x2E\x00\x04\x00\x05\x00')
2021-11-28 15:35:45 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=46)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=42, SecurityUse=<Bool.false: 0>, TimeStamp=9441676, TSN=0, Data=b'\x18\x2E\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=46 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:35:46 INFO (MainThread) [zigpy.device] [0xd071] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 15:35:46 INFO (MainThread) [zigpy.device] [0xd071] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=True>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0xD071 ieee=00:12:4b:00:23:96:a6:43 is_initialized=True>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:96:a6:43)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:35:46 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xD071:00:12:4b:00:23:96:a6:43 entering async_device_initialized - is_new_join: True
2021-11-28 15:35:46 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xD071:00:12:4b:00:23:96:a6:43 has joined the ZHA zigbee network
2021-11-28 15:35:46 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): started configuration
2021-11-28 15:35:46 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:96:a6:43, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x2f request
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xD071, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x30 request
2021-11-28 15:35:46 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0000]: finished channel configuration
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:96:a6:43, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=47, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'/C\xa6\x96#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:96:a6:43, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xD071, Src=00:12:4b:00:23:96:a6:43, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=48, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x30\x00\x01\x00')
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xD071, Src=00:12:4b:00:23:96:a6:43, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:35:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:47 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=48)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=60, SecurityUse=<Bool.false: 0>, TimeStamp=9539313, TSN=0, Data=b'\x18\x30\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=48 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:35:48 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: started IASZoneChannel configuration
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x31 request
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xD071, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=49, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'1C\xa6\x96#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:96:a6:43, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xD071, Src=00:12:4b:00:23:96:a6:43, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xD071, Src=00:12:4b:00:23:96:a6:43, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xD071, Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x2F\x00'
2021-11-28 15:35:48 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x32 request
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=50, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x32\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 15:35:48 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:50 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xD071, Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:50 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x31\x00'
2021-11-28 15:35:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 15:35:50 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x33 request
2021-11-28 15:35:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=51, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x33\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 15:35:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:35:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=50)
2021-11-28 15:35:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=51, SecurityUse=<Bool.false: 0>, TimeStamp=9775619, TSN=0, Data=b'\x18\x32\x07\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:51 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=50 command_id=Command.Configure_Reporting_rsp>
2021-11-28 15:35:51 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 15:35:51 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: finished channel configuration
2021-11-28 15:35:52 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=51)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=54, SecurityUse=<Bool.false: 0>, TimeStamp=9937816, TSN=0, Data=b'\x18\x33\x04\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=51 command_id=Command.Write_Attributes_rsp>
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x34 request
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=52, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x34\x00\x00\x00')
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): completed configuration
2021-11-28 15:35:54 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:96:a6:43', last_seen=1638131754.4432907)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x35 request
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=53, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x35\x40\x02\x00')
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=52)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=63, SecurityUse=<Bool.false: 0>, TimeStamp=9971473, TSN=0, Data=b'\x18\x34\x0B\x00\x00', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:54 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=52 command_id=Command.Default_Response>
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=53)
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=54, SecurityUse=<Bool.false: 0>, TimeStamp=10004944, TSN=0, Data=b'\x18\x35\x0B\x40\x81', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=53 command_id=Command.Default_Response>
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): started initialization
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: initializing channel: from_cache: False
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x36 request
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: initializing channel: from_cache: False
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x37 request
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0000]: initializing channel: from_cache: False
2021-11-28 15:35:55 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0000]: finished channel initialization
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=54, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x36\x00\x20\x00\x21\x00')
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=55, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x37\x00\x00\x00')
2021-11-28 15:35:55 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=54)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=66, SecurityUse=<Bool.false: 0>, TimeStamp=10038914, TSN=0, Data=b'\x18\x36\x01\x20\x00\x00\x20\x1C\x21\x00\x00\x20\x59', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=54 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy.device] [0xd071] Extending timeout for 0x38 request
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xD071), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=56, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x38\x00\x31\x00\x33\x00')
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=55)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=66, SecurityUse=<Bool.false: 0>, TimeStamp=10072786, TSN=0, Data=b'\x18\x37\x01\x00\x00\x00\x30\x01', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:56 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=55 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:35:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: finished channel initialization
2021-11-28 15:35:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=56)
2021-11-28 15:35:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xD071, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=69, SecurityUse=<Bool.false: 0>, TimeStamp=10106359, TSN=0, Data=b'\x18\x38\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0xD071, MsgResultRadius=29)
2021-11-28 15:35:57 DEBUG (MainThread) [zigpy.zcl] [0xd071:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=56 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: finished channel initialization
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xD071:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): power source: Battery or Unknown
2021-11-28 15:35:57 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xD071](DS01): completed initialization
2021-11-28 15:36:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:36:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:44:59 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:44:59 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=59, options=TransmitOptions.NONE, radius=0, data=b';<\x00'
2021-11-28 15:44:59 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:44:59 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:44:59 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:44:59 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:06 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=2)
2021-11-28 15:45:06 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:45:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:45:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:45:09 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:45:11 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0x2D47, SrcIEEE=00:12:4b:00:23:96:62:3e, ParentNwk=0x0000)
2021-11-28 15:45:31 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0x2D47, SrcIEEE=00:12:4b:00:23:96:62:3e, ParentNwk=0x0000)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0x2D47, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0x2D47, NWK=0x2D47, IEEE=00:12:4b:00:23:96:62:3e, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:45:31 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0x2D47, NWK=0x2D47, IEEE=00:12:4b:00:23:96:62:3e, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:45:31 INFO (MainThread) [zigpy.application] New device 0x2d47 (00:12:4b:00:23:96:62:3e) joined the network
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Scheduling initialization
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\x47\x2D\x3E\x62\x96\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\x47\x2D\x3E\x62\x96\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.zdo] [0x2d47:zdo] ZDO request ZDOCmd.Device_annce: [0x2D47, 00:12:4b:00:23:96:62:3e, 128]
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:45:31 INFO (MainThread) [zigpy.device] [0x2d47] Requesting 'Node Descriptor'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x3c request
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x2D47, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=60, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'<G-'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0x2D47}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=14541721, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=14541721, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=96, SecurityUse=<Bool.false: 0>, TimeStamp=14542200, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=96, SecurityUse=<Bool.false: 0>, TimeStamp=14542200, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:45:31 DEBUG (MainThread) [zigpy.device] [0x2d47] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0x2D47, Status=<Status.SUCCESS: 0>, NWK=0x2D47, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x3C\x00\x47\x2D\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x3C\x00\x47\x2D\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:45:32 INFO (MainThread) [zigpy.device] [0x2d47] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 15:45:32 INFO (MainThread) [zigpy.device] [0x2d47] Discovering endpoints
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x3d request
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x2D47, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=61, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'=G-'
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0x2D47}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0x2D47, Status=<Status.SUCCESS: 0>, NWK=0x2D47, ActiveEndpoints=[1])
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x3D\x00\x47\x2D\x01\x01'
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x3D\x00\x47\x2D\x01\x01'
2021-11-28 15:45:32 INFO (MainThread) [zigpy.device] [0x2d47] Discovered endpoints: [1]
2021-11-28 15:45:32 INFO (MainThread) [zigpy.device] [0x2d47] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 15:45:32 INFO (MainThread) [zigpy.endpoint] [0x2d47:1] Discovering endpoint information
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x3e request
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x2D47, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=62, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'>G-\x01'
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0x2D47, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47, Endpoint=1)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0x2D47, NWKAddrOfInterest=0x2D47, Endpoint=1)
2021-11-28 15:45:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0x2D47, Status=<Status.SUCCESS: 0>, NWK=0x2D47, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x3E\x00\x47\x2D\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x3E\x00\x47\x2D\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:45:33 INFO (MainThread) [zigpy.endpoint] [0x2d47:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x3f request
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=63, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x3F\x00\x04\x00\x05\x00')
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=63)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=72, SecurityUse=<Bool.false: 0>, TimeStamp=14690915, TSN=0, Data=b'\x18\x3F\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=63 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:45:33 INFO (MainThread) [zigpy.device] [0x2d47] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 15:45:33 INFO (MainThread) [zigpy.device] [0x2d47] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=True>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0x2D47 ieee=00:12:4b:00:23:96:62:3e is_initialized=True>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:96:62:3e)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:45:33 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x2D47:00:12:4b:00:23:96:62:3e entering async_device_initialized - is_new_join: True
2021-11-28 15:45:33 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x2D47:00:12:4b:00:23:96:62:3e has joined the ZHA zigbee network
2021-11-28 15:45:33 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): started configuration
2021-11-28 15:45:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:96:62:3e, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x40 request
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x2D47, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x41 request
2021-11-28 15:45:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0000]: finished channel configuration
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:96:62:3e, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=64, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'@>b\x96#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:96:62:3e, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x2D47, Src=00:12:4b:00:23:96:62:3e, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=65, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x41\x00\x01\x00')
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x2D47, Src=00:12:4b:00:23:96:62:3e, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:45:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=65)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=69, SecurityUse=<Bool.false: 0>, TimeStamp=14724909, TSN=0, Data=b'\x18\x41\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=65 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:45:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: started IASZoneChannel configuration
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x42 request
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x2D47, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=66, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'B>b\x96#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:96:62:3e, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x2D47, Src=00:12:4b:00:23:96:62:3e, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x2D47, Src=00:12:4b:00:23:96:62:3e, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x2D47, Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x40\x00'
2021-11-28 15:45:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x43 request
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=67, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x43\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 15:45:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:35 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x2D47, Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:35 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x42\x00'
2021-11-28 15:45:35 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 15:45:35 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x44 request
2021-11-28 15:45:35 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=68, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x44\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 15:45:35 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=67)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=66, SecurityUse=<Bool.false: 0>, TimeStamp=14839127, TSN=0, Data=b'\x18\x43\x07\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=67 command_id=Command.Configure_Reporting_rsp>
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: finished channel configuration
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=68)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=63, SecurityUse=<Bool.false: 0>, TimeStamp=14873026, TSN=0, Data=b'\x18\x44\x04\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=68 command_id=Command.Write_Attributes_rsp>
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x45 request
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=69, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x45\x00\x00\x00')
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): completed configuration
2021-11-28 15:45:36 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:96:62:3e', last_seen=1638132336.7340407)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x46 request
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=70, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x46\x40\x02\x00')
2021-11-28 15:45:36 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=69)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=69, SecurityUse=<Bool.false: 0>, TimeStamp=14906897, TSN=0, Data=b'\x18\x45\x0B\x00\x00', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=69 command_id=Command.Default_Response>
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=70)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=78, SecurityUse=<Bool.false: 0>, TimeStamp=14940654, TSN=0, Data=b'\x18\x46\x0B\x40\x81', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=70 command_id=Command.Default_Response>
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): started initialization
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: initializing channel: from_cache: False
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x47 request
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: initializing channel: from_cache: False
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x48 request
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0000]: initializing channel: from_cache: False
2021-11-28 15:45:37 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0000]: finished channel initialization
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=71, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x47\x00\x20\x00\x21\x00')
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=72, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x48\x00\x00\x00')
2021-11-28 15:45:37 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=71)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=78, SecurityUse=<Bool.false: 0>, TimeStamp=15039000, TSN=0, Data=b'\x18\x47\x01\x20\x00\x00\x20\x20\x21\x00\x00\x20\xC8', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=71 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy.device] [0x2d47] Extending timeout for 0x49 request
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x2D47), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=73, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x49\x00\x31\x00\x33\x00')
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=72)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=81, SecurityUse=<Bool.false: 0>, TimeStamp=15072839, TSN=0, Data=b'\x18\x48\x01\x00\x00\x00\x30\x01', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:39 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=72 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:45:39 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: finished channel initialization
2021-11-28 15:45:40 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=73)
2021-11-28 15:45:40 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x2D47, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=75, SecurityUse=<Bool.false: 0>, TimeStamp=15106534, TSN=0, Data=b'\x18\x49\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0x2D47, MsgResultRadius=29)
2021-11-28 15:45:40 DEBUG (MainThread) [zigpy.zcl] [0x2d47:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=73 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: finished channel initialization
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x2D47:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): power source: Battery or Unknown
2021-11-28 15:45:40 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x2D47](DS01): completed initialization
2021-11-28 15:56:13 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:56:13 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=74, options=TransmitOptions.NONE, radius=0, data=b'J<\x00'
2021-11-28 15:56:13 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:56:13 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:56:13 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:56:13 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:56:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:56:32 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:56:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:56:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:56:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:57:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:57:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:57:31 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:57:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:57:35 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:57:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:57:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:58:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:58:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:58:19 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 15:58:19 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=75, options=TransmitOptions.NONE, radius=0, data=b'K<\x00'
2021-11-28 15:58:19 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:58:19 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 15:58:19 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:19 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:33 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=2)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0x153B, SrcIEEE=00:12:4b:00:23:c2:1c:40, ParentNwk=0x0000)
2021-11-28 15:58:34 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0x153B, SrcIEEE=00:12:4b:00:23:c2:1c:40, ParentNwk=0x0000)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0x153B, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0x153B, NWK=0x153B, IEEE=00:12:4b:00:23:c2:1c:40, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:58:34 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0x153B, NWK=0x153B, IEEE=00:12:4b:00:23:c2:1c:40, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 15:58:34 INFO (MainThread) [zigpy.application] New device 0x153b (00:12:4b:00:23:c2:1c:40) joined the network
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Scheduling initialization
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\x3B\x15\x40\x1C\xC2\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\x3B\x15\x40\x1C\xC2\x23\x00\x4B\x12\x00\x80'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.zdo] [0x153b:zdo] ZDO request ZDOCmd.Device_annce: [0x153B, 00:12:4b:00:23:c2:1c:40, 128]
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:58:34 INFO (MainThread) [zigpy.device] [0x153b] Requesting 'Node Descriptor'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x4c request
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=18, SecurityUse=<Bool.false: 0>, TimeStamp=570897, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=18, SecurityUse=<Bool.false: 0>, TimeStamp=570897, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=33, SecurityUse=<Bool.false: 0>, TimeStamp=571254, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=33, SecurityUse=<Bool.false: 0>, TimeStamp=571254, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy.device] [0x153b] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=76, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'L;\x15'
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0x153B}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:36 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 15:58:37 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 15:58:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:58:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy.util] Tries remaining: 1
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x4d request
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=77, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'M;\x15'
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0x153B}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:49 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0x153B, Status=<Status.SUCCESS: 0>, NWK=0x153B, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x4D\x00\x3B\x15\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x4D\x00\x3B\x15\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 15:58:50 INFO (MainThread) [zigpy.device] [0x153b] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 15:58:50 INFO (MainThread) [zigpy.device] [0x153b] Discovering endpoints
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x4e request
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=78, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'N;\x15'
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0x153B}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B)
2021-11-28 15:58:50 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0x153B, Status=<Status.SUCCESS: 0>, NWK=0x153B, ActiveEndpoints=[1])
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x4E\x00\x3B\x15\x01\x01'
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x4E\x00\x3B\x15\x01\x01'
2021-11-28 15:58:51 INFO (MainThread) [zigpy.device] [0x153b] Discovered endpoints: [1]
2021-11-28 15:58:51 INFO (MainThread) [zigpy.device] [0x153b] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 15:58:51 INFO (MainThread) [zigpy.endpoint] [0x153b:1] Discovering endpoint information
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x4f request
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=79, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'O;\x15\x01'
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0x153B, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B, Endpoint=1)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0x153B, NWKAddrOfInterest=0x153B, Endpoint=1)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0x153B, Status=<Status.SUCCESS: 0>, NWK=0x153B, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x4F\x00\x3B\x15\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x4F\x00\x3B\x15\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 15:58:51 INFO (MainThread) [zigpy.endpoint] [0x153b:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x50 request
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=80, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x50\x00\x04\x00\x05\x00')
2021-11-28 15:58:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=80)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=54, SecurityUse=<Bool.false: 0>, TimeStamp=1670299, TSN=0, Data=b'\x18\x50\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=80 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:52 INFO (MainThread) [zigpy.device] [0x153b] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 15:58:52 INFO (MainThread) [zigpy.device] [0x153b] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=True>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0x153B ieee=00:12:4b:00:23:c2:1c:40 is_initialized=True>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:c2:1c:40)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x153B:00:12:4b:00:23:c2:1c:40 entering async_device_initialized - is_new_join: True
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x153B:00:12:4b:00:23:c2:1c:40 has joined the ZHA zigbee network
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): started configuration
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:c2:1c:40, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x51 request
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x52 request
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0000]: finished channel configuration
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:c2:1c:40, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=81, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'Q@\x1c\xc2#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:c2:1c:40, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x153B, Src=00:12:4b:00:23:c2:1c:40, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=82, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x52\x00\x01\x00')
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x153B, Src=00:12:4b:00:23:c2:1c:40, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=82)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=54, SecurityUse=<Bool.false: 0>, TimeStamp=1704760, TSN=0, Data=b'\x18\x52\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=82 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: started IASZoneChannel configuration
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x53 request
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x153B, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=83, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'S@\x1c\xc2#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:c2:1c:40, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x153B, Src=00:12:4b:00:23:c2:1c:40, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x153B, Src=00:12:4b:00:23:c2:1c:40, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 15:58:52 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x153B, Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x51\x00'
2021-11-28 15:58:53 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x54 request
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=84, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x54\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x153B, Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x53\x00'
2021-11-28 15:58:53 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x55 request
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=85, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x55\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 15:58:53 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=84)
2021-11-28 15:58:54 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=60, SecurityUse=<Bool.false: 0>, TimeStamp=1820672, TSN=0, Data=b'\x18\x54\x07\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:54 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=84 command_id=Command.Configure_Reporting_rsp>
2021-11-28 15:58:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 15:58:54 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: finished channel configuration
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=85)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=78, SecurityUse=<Bool.false: 0>, TimeStamp=1919492, TSN=0, Data=b'\x18\x55\x04\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=85 command_id=Command.Write_Attributes_rsp>
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x56 request
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=86, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x56\x00\x00\x00')
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): completed configuration
2021-11-28 15:58:56 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:c2:1c:40', last_seen=1638133136.1152258)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x57 request
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=87, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x57\x40\x02\x00')
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=86)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=75, SecurityUse=<Bool.false: 0>, TimeStamp=1953515, TSN=0, Data=b'\x18\x56\x0B\x00\x00', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:56 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=86 command_id=Command.Default_Response>
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=87)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=78, SecurityUse=<Bool.false: 0>, TimeStamp=1987235, TSN=0, Data=b'\x18\x57\x0B\x40\x81', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=87 command_id=Command.Default_Response>
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): started initialization
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: initializing channel: from_cache: False
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x58 request
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: initializing channel: from_cache: False
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x59 request
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0000]: initializing channel: from_cache: False
2021-11-28 15:58:57 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0000]: finished channel initialization
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=88, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x58\x00\x20\x00\x21\x00')
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=89, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x59\x00\x00\x00')
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=88)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=75, SecurityUse=<Bool.false: 0>, TimeStamp=2021264, TSN=0, Data=b'\x18\x58\x01\x20\x00\x00\x20\x20\x21\x00\x00\x20\xC8', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=88 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy.device] [0x153b] Extending timeout for 0x5a request
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x153B), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=90, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x5A\x00\x31\x00\x33\x00')
2021-11-28 15:58:57 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 15:58:58 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=89)
2021-11-28 15:58:58 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=81, SecurityUse=<Bool.false: 0>, TimeStamp=2056116, TSN=0, Data=b'\x18\x59\x01\x00\x00\x00\x30\x01', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:58 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=89 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:58 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: finished channel initialization
2021-11-28 15:58:58 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=72, SecurityUse=<Bool.false: 0>, TimeStamp=2090059, TSN=0, Data=b'\x18\x5A\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:58 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=90 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:59 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=90)
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: finished channel initialization
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x153B:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): power source: Battery or Unknown
2021-11-28 15:58:59 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x153B](DS01): completed initialization
2021-11-28 15:58:59 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x153B, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=69, SecurityUse=<Bool.false: 0>, TimeStamp=2124074, TSN=0, Data=b'\x18\x5A\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0x153B, MsgResultRadius=29)
2021-11-28 15:58:59 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=90 command_id=Command.Read_Attributes_rsp>
2021-11-28 15:58:59 DEBUG (MainThread) [zigpy.zcl] [0x153b:1:0x0001] ZCL request 0x0001: [[ReadAttributeRecord(attrid=49, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>), ReadAttributeRecord(attrid=51, status=<Status.UNSUPPORTED_ATTRIBUTE: 134>)]]
2021-11-28 15:59:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 15:59:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 15:59:11 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SrcRtgInd.Callback(DstAddr=0x8888, Relays=[0x11F1])
2021-11-28 15:59:12 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1029, SrcAddr=0x8888, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=2913266, TSN=0, Data=b'\x18\xD8\x0A\x00\x00\x21\xFC\x1E', MacSrcAddr=0x11F1, MsgResultRadius=28)
2021-11-28 15:59:12 DEBUG (MainThread) [zigpy.zcl] [0x8888:1:0x0405] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=216 command_id=Command.Report_Attributes>
2021-11-28 15:59:12 DEBUG (MainThread) [zigpy.zcl] [0x8888:1:0x0405] ZCL request 0x000a: [[Attribute(attrid=0, value=<TypeValue type=uint16_t, value=7932>)]]
2021-11-28 15:59:12 DEBUG (MainThread) [zigpy.zcl] [0x8888:1:0x0405] Attribute report received: measured_value=7932
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:05:10 ERROR (MainThread) [frontend.js.latest.202111090] http://192.168.1.25:8123/frontend_latest/99776510.js:1:0 NS_ERROR_FAILURE: 
2021-11-28 16:12:21 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 16:12:21 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=94, options=TransmitOptions.NONE, radius=0, data=b'^<\x00'
2021-11-28 16:12:21 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:12:21 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:12:21 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:21 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:36 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0xCC68, SrcIEEE=00:12:4b:00:23:97:51:c8, ParentNwk=0x0000)
2021-11-28 16:12:36 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0xCC68, SrcIEEE=00:12:4b:00:23:97:51:c8, ParentNwk=0x0000)
2021-11-28 16:12:36 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0xCC68, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 16:12:36 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:39 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:12:39 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:12:41 INFO (MainThread) [zigpy.application] New device 0xcc68 (00:12:4b:00:23:97:51:c8) joined the network
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy.device] [0xcc68] Scheduling initialization
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:12:41 INFO (MainThread) [zigpy.device] [0xcc68] Requesting 'Node Descriptor'
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x5f request
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCC68, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=95, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'_h\xcc'
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0xCC68}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68)
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68)
2021-11-28 16:12:41 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>, NWK=0xCC68, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x5F\x00\x68\xCC\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCC68 ieee=00:12:4b:00:23:97:51:c8 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x5F\x00\x68\xCC\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 16:12:42 INFO (MainThread) [zigpy.device] [0xcc68] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 16:12:42 INFO (MainThread) [zigpy.device] [0xcc68] Discovering endpoints
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x60 request
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCC68, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=96, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'`h\xcc'
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0xCC68}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>, NWK=0xCC68, ActiveEndpoints=[1])
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x60\x00\x68\xCC\x01\x01'
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCC68 ieee=00:12:4b:00:23:97:51:c8 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x60\x00\x68\xCC\x01\x01'
2021-11-28 16:12:42 INFO (MainThread) [zigpy.device] [0xcc68] Discovered endpoints: [1]
2021-11-28 16:12:42 INFO (MainThread) [zigpy.device] [0xcc68] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 16:12:42 INFO (MainThread) [zigpy.endpoint] [0xcc68:1] Discovering endpoint information
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x61 request
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCC68, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=97, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'ah\xcc\x01'
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0xCC68, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68, Endpoint=1)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0xCC68, NWKAddrOfInterest=0xCC68, Endpoint=1)
2021-11-28 16:12:42 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>, NWK=0xCC68, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x61\x00\x68\xCC\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0xCC68 ieee=00:12:4b:00:23:97:51:c8 is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x61\x00\x68\xCC\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 16:12:43 INFO (MainThread) [zigpy.endpoint] [0xcc68:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x62 request
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=98, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x62\x00\x04\x00\x05\x00')
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=98)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=123, SecurityUse=<Bool.false: 0>, TimeStamp=6471244, TSN=0, Data=b'\x18\x62\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=98 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:12:43 INFO (MainThread) [zigpy.device] [0xcc68] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 16:12:43 INFO (MainThread) [zigpy.device] [0xcc68] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0xCC68 ieee=00:12:4b:00:23:97:51:c8 is_initialized=True>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0xCC68 ieee=00:12:4b:00:23:97:51:c8 is_initialized=True>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:97:51:c8)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 16:12:43 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xCC68:00:12:4b:00:23:97:51:c8 entering async_device_initialized - is_new_join: True
2021-11-28 16:12:43 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0xCC68:00:12:4b:00:23:97:51:c8 has joined the ZHA zigbee network
2021-11-28 16:12:43 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): started configuration
2021-11-28 16:12:43 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x63 request
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCC68, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:12:43 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x64 request
2021-11-28 16:12:44 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0000]: finished channel configuration
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:97:51:c8, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:97:51:c8, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=99, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'c\xc8Q\x97#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:97:51:c8, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xCC68, Src=00:12:4b:00:23:97:51:c8, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=100, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x64\x00\x01\x00')
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xCC68, Src=00:12:4b:00:23:97:51:c8, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=100)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=117, SecurityUse=<Bool.false: 0>, TimeStamp=6505301, TSN=0, Data=b'\x18\x64\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=100 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:12:44 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: started IASZoneChannel configuration
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x65 request
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0xCC68, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=101, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'e\xc8Q\x97#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:97:51:c8, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0xCC68, Src=00:12:4b:00:23:97:51:c8, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0xCC68, Src=00:12:4b:00:23:97:51:c8, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:44 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x63\x00'
2021-11-28 16:12:45 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x66 request
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=102, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x66\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x65\x00'
2021-11-28 16:12:45 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x67 request
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=103, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x67\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 16:12:45 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:46 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:46 WARNING (MainThread) [zigpy_znp.api] Received an unhandled command: ZDO.BindRsp.Callback(Src=0xCC68, Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:46 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=102)
2021-11-28 16:12:46 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=6656140, TSN=0, Data=b'\x18\x66\x07\x00', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:46 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=102 command_id=Command.Configure_Reporting_rsp>
2021-11-28 16:12:46 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 16:12:46 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: finished channel configuration
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=103)
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=108, SecurityUse=<Bool.false: 0>, TimeStamp=6690027, TSN=0, Data=b'\x18\x67\x04\x00', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=103 command_id=Command.Write_Attributes_rsp>
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x68 request
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=104, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x68\x00\x00\x00')
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): completed configuration
2021-11-28 16:12:47 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:97:51:c8', last_seen=1638133967.4155915)
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x69 request
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=105, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x69\x40\x02\x00')
2021-11-28 16:12:47 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:49 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=104)
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=6852701, TSN=0, Data=b'\x18\x68\x0B\x00\x00', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=104 command_id=Command.Default_Response>
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=105)
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=6886433, TSN=0, Data=b'\x18\x69\x0B\x40\x81', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=105 command_id=Command.Default_Response>
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): started initialization
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: initializing channel: from_cache: False
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x6a request
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: initializing channel: from_cache: False
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x6b request
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0000]: initializing channel: from_cache: False
2021-11-28 16:12:50 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0000]: finished channel initialization
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=106, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x6A\x00\x20\x00\x21\x00')
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=107, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x6B\x00\x00\x00')
2021-11-28 16:12:50 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=106)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=6920334, TSN=0, Data=b'\x18\x6A\x01\x20\x00\x00\x20\x20\x21\x00\x00\x20\xC8', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=106 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy.device] [0xcc68] Extending timeout for 0x6c request
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0xCC68), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=108, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x6C\x00\x31\x00\x33\x00')
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=107)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=111, SecurityUse=<Bool.false: 0>, TimeStamp=6955121, TSN=0, Data=b'\x18\x6B\x01\x00\x00\x00\x30\x01', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:51 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=107 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:12:51 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: finished channel initialization
2021-11-28 16:12:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=108)
2021-11-28 16:12:52 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0xCC68, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=105, SecurityUse=<Bool.false: 0>, TimeStamp=6988981, TSN=0, Data=b'\x18\x6C\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0xCC68, MsgResultRadius=29)
2021-11-28 16:12:52 DEBUG (MainThread) [zigpy.zcl] [0xcc68:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=108 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: finished channel initialization
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0xCC68:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): power source: Battery or Unknown
2021-11-28 16:12:52 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0xCC68](DS01): completed initialization
2021-11-28 16:13:03 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 16:13:05 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 16:13:06 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 16:13:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:13:09 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:21:23 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 16:21:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=109, options=TransmitOptions.NONE, radius=0, data=b'm<\x00'
2021-11-28 16:21:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:21:23 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:21:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:21:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 16:21:34 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SrcRtgInd.Callback(DstAddr=0x5DB6, Relays=[0x16FE])
2021-11-28 16:21:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1029, SrcAddr=0x5DB6, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=129, SecurityUse=<Bool.false: 0>, TimeStamp=8182271, TSN=0, Data=b'\x18\x8D\x0A\x00\x00\x21\x32\x14', MacSrcAddr=0x16FE, MsgResultRadius=28)
2021-11-28 16:21:34 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=141 command_id=Command.Report_Attributes>
2021-11-28 16:21:34 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] ZCL request 0x000a: [[Attribute(attrid=0, value=<TypeValue type=uint16_t, value=5170>)]]
2021-11-28 16:21:34 DEBUG (MainThread) [zigpy.zcl] [0x5db6:1:0x0405] Attribute report received: measured_value=5170
2021-11-28 16:21:40 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:21:40 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:22:10 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:22:10 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:22:22 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=2)
2021-11-28 16:22:22 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 16:22:24 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 16:22:25 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 16:22:40 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:22:40 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:23:10 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:23:10 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:24:08 INFO (MainThread) [zigpy_znp.zigbee.application] Permitting joins for 60 seconds
2021-11-28 16:24:08 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.Broadcast: 15>, address=0xFFFC), dst_ep=0, src_ep=0, cluster=54, sequence=110, options=TransmitOptions.NONE, radius=0, data=b'n<\x00'
2021-11-28 16:24:08 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request 54({'PermitDuration': 60, 'TC_Significant': <Bool.false: 0>}) and replaced with ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:24:08 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.MgmtPermitJoinReq.Req(AddrMode=<AddrMode.Broadcast: 15>, Dst=0xFFFC, Duration=60, TCSignificance=0)
2021-11-28 16:24:08 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:08 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.MgmtPermitJoinRsp.Callback(Src=0x0000, Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SrcRtgInd.Callback(DstAddr=0x5590, Relays=[])
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=6, SrcAddr=0x5590, SrcEndpoint=11, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=42, SecurityUse=<Bool.false: 0>, TimeStamp=2156673, TSN=0, Data=b'\x08\x96\x0A\x00\x00\x10\x00', MacSrcAddr=0x5590, MsgResultRadius=29)
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy.zcl] [0x5590:11:0x0006] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=150 command_id=Command.Report_Attributes>
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy.zcl] [0x5590:11:0x0006] ZCL request 0x000a: [[Attribute(attrid=0, value=<TypeValue type=Bool, value=Bool.false>)]]
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy.zcl] [0x5590:11:0x0006] Attribute report received: on_off=0
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x5590), DstEndpoint=11, DstPanId=0x0000, SrcEndpoint=1, ClusterId=6, TSN=150, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK: 32>, Radius=30, Data=b'\x18\x96\x0B\x0A\x00')
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:09 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=150)
2021-11-28 16:24:10 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:24:10 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.TCDevInd.Callback(SrcNwk=0x00CD, SrcIEEE=00:12:4b:00:23:a4:c7:af, ParentNwk=0x0000)
2021-11-28 16:24:23 INFO (MainThread) [zigpy_znp.zigbee.application] TC device join: ZDO.TCDevInd.Callback(SrcNwk=0x00CD, SrcIEEE=00:12:4b:00:23:a4:c7:af, ParentNwk=0x0000)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteDisc.Req(Dst=0x00CD, Options=<RouteDiscoveryOptions.UNICAST: 0>, Radius=30)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteDisc.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.EndDeviceAnnceInd.Callback(Src=0x00CD, NWK=0x00CD, IEEE=00:12:4b:00:23:a4:c7:af, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 16:24:23 INFO (MainThread) [zigpy_znp.zigbee.application] ZDO device announce: ZDO.EndDeviceAnnceInd.Callback(Src=0x00CD, NWK=0x00CD, IEEE=00:12:4b:00:23:a4:c7:af, Capabilities=<MACCapabilities.AllocateShortAddrDuringAssocNeeded: 128>)
2021-11-28 16:24:23 INFO (MainThread) [zigpy.application] New device 0x00cd (00:12:4b:00:23:a4:c7:af) joined the network
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Scheduling initialization
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\xFF\xCD\x00\xAF\xC7\xA4\x23\x00\x4B\x12\x00\x80'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Device_annce: b'\xFF\xCD\x00\xAF\xC7\xA4\x23\x00\x4B\x12\x00\x80'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.zdo] [0x00cd:zdo] ZDO request ZDOCmd.Device_annce: [0x00CD, 00:12:4b:00:23:a4:c7:af, 128]
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:24:23 INFO (MainThread) [zigpy.device] [0x00cd] Requesting 'Node Descriptor'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.util] Tries remaining: 2
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x6f request
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x00CD, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=3023531, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=3023531, TSN=0, Data=b'\x09\x01\x01\x15\x00\x00\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x09\x01\x01\x15\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=False> manufacturer=None tsn=1 command_id=1>, payload: b'\x15\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=2, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=3023789, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=90, SecurityUse=<Bool.false: 0>, TimeStamp=3023789, TSN=0, Data=b'\x19\x02\x00\x01\x00\x00\x00\x00\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 1 to ep 2, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 1 to ep 1, cluster 1280: b'\x19\x02\x00\x01\x00\x00\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy.device] [0x00cd] Received ZCL while uninitialized on endpoint id 1, cluster 0x0500 id, hdr: <ZCLHeader frame_control=<FrameControl frame_type=CLUSTER_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=2 command_id=0>, payload: b'\x01\x00\x00\x00\x00\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), dst_ep=0, src_ep=0, cluster=ZDOCmd.Node_Desc_req, sequence=111, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'o\xcd\x00'
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Node_Desc_req({'NWKAddrOfInterest': 0x00CD}) and replaced with ZDO.NodeDescReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.NodeDescReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD)
2021-11-28 16:24:23 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.NodeDescRsp.Callback(Src=0x00CD, Status=<Status.SUCCESS: 0>, NWK=0x00CD, NodeDescriptor=NullableNodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False))
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x6F\x00\xCD\x00\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Node_Desc_rsp: b'\x6F\x00\xCD\x00\x02\x40\x80\x00\x00\x50\xA0\x00\x00\x00\xA0\x00\x00'
2021-11-28 16:24:26 INFO (MainThread) [zigpy.device] [0x00cd] Got Node Descriptor: NodeDescriptor(logical_type=<LogicalType.EndDevice: 2>, complex_descriptor_available=0, user_descriptor_available=0, reserved=0, aps_flags=0, frequency_band=<FrequencyBand.Freq2400MHz: 8>, mac_capability_flags=<MACCapabilityFlags.AllocateAddress: 128>, manufacturer_code=0, maximum_buffer_size=80, maximum_incoming_transfer_size=160, server_mask=0, maximum_outgoing_transfer_size=160, descriptor_capability_field=<DescriptorCapability.NONE: 0>, *allocate_address=True, *is_alternate_pan_coordinator=False, *is_coordinator=False, *is_end_device=True, *is_full_function_device=False, *is_mains_powered=False, *is_receiver_on_when_idle=False, *is_router=False, *is_security_capable=False)
2021-11-28 16:24:26 INFO (MainThread) [zigpy.device] [0x00cd] Discovering endpoints
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x70 request
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x00CD, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), dst_ep=0, src_ep=0, cluster=ZDOCmd.Active_EP_req, sequence=112, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'p\xcd\x00'
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Active_EP_req({'NWKAddrOfInterest': 0x00CD}) and replaced with ZDO.ActiveEpReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ActiveEpReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:26 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x11F1, IEEE=08:6b:d7:ff:fe:6e:62:3f, PktCost=1)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ActiveEpRsp.Callback(Src=0x00CD, Status=<Status.SUCCESS: 0>, NWK=0x00CD, ActiveEndpoints=[1])
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x70\x00\xCD\x00\x01\x01'
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Active_EP_rsp: b'\x70\x00\xCD\x00\x01\x01'
2021-11-28 16:24:27 INFO (MainThread) [zigpy.device] [0x00cd] Discovered endpoints: [1]
2021-11-28 16:24:27 INFO (MainThread) [zigpy.device] [0x00cd] Initializing endpoints [<Endpoint id=1 in=[] out=[] status=<Status.NEW: 0>>]
2021-11-28 16:24:27 INFO (MainThread) [zigpy.endpoint] [0x00cd:1] Discovering endpoint information
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy.util] Tries remaining: 3
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x71 request
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x00CD, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), dst_ep=0, src_ep=0, cluster=ZDOCmd.Simple_Desc_req, sequence=113, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'q\xcd\x00\x01'
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Simple_Desc_req({'NWKAddrOfInterest': 0x00CD, 'EndPoint': 1}) and replaced with ZDO.SimpleDescReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD, Endpoint=1)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.SimpleDescReq.Req(DstAddr=0x00CD, NWKAddrOfInterest=0x00CD, Endpoint=1)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.SimpleDescRsp.Callback(Src=0x00CD, Status=<Status.SUCCESS: 0>, NWK=0x00CD, SimpleDescriptor=SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3]))
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x71\x00\xCD\x00\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy.application] Received frame on uninitialized device <Device model=None manuf=None nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=False> from ep 0 to ep 0, cluster ZDOCmd.Simple_Desc_rsp: b'\x71\x00\xCD\x00\x12\x01\x04\x01\x02\x04\x00\x04\x00\x00\x03\x00\x00\x05\x01\x00\x01\x03\x00'
2021-11-28 16:24:27 INFO (MainThread) [zigpy.endpoint] [0x00cd:1] Discovered endpoint information: SizePrefixedSimpleDescriptor(endpoint=1, profile=260, device_type=1026, device_version=0, input_clusters=[0, 3, 1280, 1], output_clusters=[3])
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x72 request
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=0, TSN=114, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x72\x00\x04\x00\x05\x00')
2021-11-28 16:24:27 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x16FE, IEEE=08:6b:d7:ff:fe:6e:62:1b, PktCost=1)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=114)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=0, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=3323001, TSN=0, Data=b'\x18\x72\x01\x04\x00\x00\x42\x07\x65\x57\x65\x4C\x69\x6E\x6B\x05\x00\x00\x42\x04\x44\x53\x30\x31', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0000] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=114 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:24:28 INFO (MainThread) [zigpy.device] [0x00cd] Read model 'DS01' and manufacturer 'eWeLink' from <Endpoint id=1 in=[basic:0x0000, identify:0x0003, ias_zone:0x0500, power:0x0001] out=[identify:0x0003] status=<Status.ZDO_INIT: 1>>
2021-11-28 16:24:28 INFO (MainThread) [zigpy.device] [0x00cd] Discovered basic device information for <Device model='DS01' manuf='eWeLink' nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=True>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.application] Device is initialized <Device model='DS01' manuf='eWeLink' nwk=0x00CD ieee=00:12:4b:00:23:a4:c7:af is_initialized=True>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Checking quirks for eWeLink DS01 (00:12:4b:00:23:a4:c7:af)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee_io.XBeeSensor'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.xbee.xbee3_io.XBee3Sensor'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {232, 230} {1}
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.tag_v4.SmartThingsTagV4'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.smartthings.multi.SmartthingsMultiPurposeSensor'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.netvox.z308e3ed.Z308E3ED'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because input cluster mismatch on at least one endpoint
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'zhaquirks.gledopto.soposhgu10.SoposhGU10'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because endpoint list mismatch: {11, 13} {1}
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Considering <class 'bellows.zigbee.application.EZSPCoordinator'>
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.quirks.registry] Fail because device_type mismatch on at least one endpoint
2021-11-28 16:24:28 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x00CD:00:12:4b:00:23:a4:c7:af entering async_device_initialized - is_new_join: True
2021-11-28 16:24:28 DEBUG (MainThread) [homeassistant.components.zha.core.gateway] device - 0x00CD:00:12:4b:00:23:a4:c7:af has joined the ZHA zigbee network
2021-11-28 16:24:28 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): started configuration
2021-11-28 16:24:28 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:ZDO](DS01): 'async_configure' stage succeeded
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:a4:c7:af, 1, 0, 4, 'eWeLink') params: FOREIGN KEY constraint failed
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x73 request
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x00CD, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x74 request
2021-11-28 16:24:28 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0000]: finished channel configuration
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy.appdb] Error handling '_save_attribute' event with (00:12:4b:00:23:a4:c7:af, 1, 0, 5, 'DS01') params: FOREIGN KEY constraint failed
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=115, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b's\xaf\xc7\xa4#\x00K\x12\x00\x01\x01\x00\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:a4:c7:af, 'SrcEndpoint': 1, 'ClusterID': 1, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x00CD, Src=00:12:4b:00:23:a4:c7:af, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=116, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x74\x00\x01\x00')
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x00CD, Src=00:12:4b:00:23:a4:c7:af, SrcEndpoint=1, ClusterId=1, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:24:28 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=116)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=3357014, TSN=0, Data=b'\x18\x74\x01\x01\x00\x00\x31\x15\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=116 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:24:29 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: started IASZoneChannel configuration
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x75 request
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.ExtRouteChk.Req(Dst=0x00CD, RtStatus=<RouteStatus.ACTIVE: 1>, Options=<RouteOptions.NO_ROUTE_CACHE|MTO_ROUTE: 3>)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ExtRouteChk.Rsp(Status=<RoutingStatus.SUCCESS: 0>)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted a ZDO request: dst_addr=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), dst_ep=0, src_ep=0, cluster=ZDOCmd.Bind_req, sequence=117, options=TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST, radius=30, data=b'u\xaf\xc7\xa4#\x00K\x12\x00\x01\x00\x05\x03(\xf0\xc9$\x00K\x12\x00\x01'
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Intercepted AP ZDO request ZDOCmd.Bind_req({'SrcAddress': 00:12:4b:00:23:a4:c7:af, 'SrcEndpoint': 1, 'ClusterID': 1280, 'DstAddress': MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1)}) and replaced with ZDO.BindReq.Req(Dst=0x00CD, Src=00:12:4b:00:23:a4:c7:af, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: ZDO.BindReq.Req(Dst=0x00CD, Src=00:12:4b:00:23:a4:c7:af, SrcEndpoint=1, ClusterId=1280, Address=MultiAddress(addrmode=3, ieee=00:12:4b:00:24:c9:f0:28, endpoint=1))
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindReq.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.ConcentratorInd.Callback(NWK=0x015C, IEEE=08:6b:d7:ff:fe:6e:5f:07, PktCost=1)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x00CD, Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x73\x00'
2021-11-28 16:24:29 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: bound 'power' cluster: Status.SUCCESS
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x76 request
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=118, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x76\x06\x00\x20\x00\x20\x10\x0E\x30\x2A\x01\x00\x21\x00\x20\x10\x0E\x30\x2A\x01')
2021-11-28 16:24:29 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.api] Received command: ZDO.BindRsp.Callback(Src=0x00CD, Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.zigbee.application] Pretending we received a ZDO message: b'\x75\x00'
2021-11-28 16:24:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: bound 'ias_zone' cluster: Status.SUCCESS
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x77 request
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=119, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x77\x02\x10\x00\xF0\x28\xF0\xC9\x24\x00\x4B\x12\x00')
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=118)
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=3465398, TSN=0, Data=b'\x18\x76\x07\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:30 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=118 command_id=Command.Configure_Reporting_rsp>
2021-11-28 16:24:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: Successfully configured reporting for '{'battery_voltage': (3600, 10800, 1), 'battery_percentage_remaining': (3600, 10800, 1)}' on 'power' cluster: [ConfigureReportingResponseRecord(status=0)]
2021-11-28 16:24:30 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: finished channel configuration
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=119)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=102, SecurityUse=<Bool.false: 0>, TimeStamp=3500767, TSN=0, Data=b'\x18\x77\x04\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=119 command_id=Command.Write_Attributes_rsp>
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: wrote cie_addr: 00:12:4b:00:24:c9:f0:28 to 'ias_zone' cluster: [WriteAttributesStatusRecord(status=<Status.SUCCESS: 0>)]
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: Sending pro-active IAS enroll response
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: finished IASZoneChannel configuration
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x78 request
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=120, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x78\x00\x00\x00')
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: 'async_configure' stage succeeded
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: 'async_configure' stage succeeded
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0000]: 'async_configure' stage succeeded
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): completed configuration
2021-11-28 16:24:31 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): stored in registry: ZhaDeviceEntry(name='eWeLink DS01', ieee='00:12:4b:00:23:a4:c7:af', last_seen=1638134671.3668537)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x79 request
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=3, TSN=121, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x01\x79\x40\x02\x00')
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=120)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=99, SecurityUse=<Bool.false: 0>, TimeStamp=3535066, TSN=0, Data=b'\x18\x78\x0B\x00\x00', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:31 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=120 command_id=Command.Default_Response>
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=121)
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=3, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=3569233, TSN=0, Data=b'\x18\x79\x0B\x40\x81', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0003] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=121 command_id=Command.Default_Response>
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0003]: executed 'trigger_effect' command with args: '(2, 0)' kwargs: '{}' result: [64, <Status.UNSUP_CLUSTER_COMMAND: 129>]
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): started initialization
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:ZDO](DS01): 'async_initialize' stage succeeded
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: initializing channel: from_cache: False
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x7a request
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: initializing channel: from_cache: False
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x7b request
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0000]: initializing channel: from_cache: False
2021-11-28 16:24:32 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0000]: finished channel initialization
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=122, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x7A\x00\x20\x00\x21\x00')
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1280, TSN=123, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x7B\x00\x00\x00')
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=122)
2021-11-28 16:24:32 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=3603369, TSN=0, Data=b'\x18\x7A\x01\x20\x00\x00\x20\x20\x21\x00\x00\x20\xC8', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=122 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy.device] [0x00cd] Extending timeout for 0x7c request
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy_znp.api] Sending request: AF.DataRequestExt.Req(DstAddrModeAddress=AddrModeAddress(mode=<AddrMode.NWK: 2>, address=0x00CD), DstEndpoint=1, DstPanId=0x0000, SrcEndpoint=1, ClusterId=1, TSN=124, Options=<TransmitOptions.SUPPRESS_ROUTE_DISC_NETWORK|ACK_REQUEST: 48>, Radius=30, Data=b'\x00\x7C\x00\x31\x00\x33\x00')
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataRequestExt.Rsp(Status=<Status.SUCCESS: 0>)
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=123)
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1280, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=93, SecurityUse=<Bool.false: 0>, TimeStamp=3637488, TSN=0, Data=b'\x18\x7B\x01\x00\x00\x00\x30\x01', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:33 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0500] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=123 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:24:33 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: finished channel initialization
2021-11-28 16:24:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.DataConfirm.Callback(Status=<Status.SUCCESS: 0>, Endpoint=1, TSN=124)
2021-11-28 16:24:34 DEBUG (MainThread) [zigpy_znp.api] Received command: AF.IncomingMsg.Callback(GroupId=0x0000, ClusterId=1, SrcAddr=0x00CD, SrcEndpoint=1, DstEndpoint=1, WasBroadcast=<Bool.false: 0>, LQI=117, SecurityUse=<Bool.false: 0>, TimeStamp=3671491, TSN=0, Data=b'\x18\x7C\x01\x31\x00\x86\x33\x00\x86', MacSrcAddr=0x00CD, MsgResultRadius=29)
2021-11-28 16:24:34 DEBUG (MainThread) [zigpy.zcl] [0x00cd:1:0x0001] ZCL deserialize: <ZCLHeader frame_control=<FrameControl frame_type=GLOBAL_COMMAND manufacturer_specific=False is_reply=True disable_default_response=True> manufacturer=None tsn=124 command_id=Command.Read_Attributes_rsp>
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: finished channel initialization
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0001]: 'async_initialize' stage succeeded
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0500]: 'async_initialize' stage succeeded
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.channels.base] [0x00CD:1:0x0000]: 'async_initialize' stage succeeded
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): power source: Battery or Unknown
2021-11-28 16:24:34 DEBUG (MainThread) [homeassistant.components.zha.core.device] [0x00CD](DS01): completed initialization
2021-11-28 16:24:40 DEBUG (MainThread) [zigpy_znp.api] Sending request: SYS.Ping.Req()
2021-11-28 16:24:40 DEBUG (MainThread) [zigpy_znp.api] Received command: SYS.Ping.Rsp(Capabilities=<MTCapabilities.APP_CNF|GP|UTIL|ZDO|AF|SYS: 1625>)
2021-11-28 16:51:36 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'value3' is undefined when rendering '{{ value1 }} {{ value2 }} {{ value3 }}'
2021-11-28 16:51:36 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'target_id' is undefined when rendering '{{ target_id }}'
2021-11-28 16:51:36 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'content_type' is undefined when rendering '{{ content_type }}'
2021-11-28 16:51:36 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'channel_id' is undefined when rendering '{{ channel_id }}'
2021-11-28 16:51:36 WARNING (MainThread) [homeassistant.helpers.template] Template variable warning: 'importance_id' is undefined when rendering '{{ importance_id }}'
2021-11-28 17:39:54 ERROR (MainThread) [homeassistant.components.hassio.handler] Timeout on /homeassistant/restart request
