
ha_update_available:
  name: HA has an update
  entity_id: sensor.updater_core
  state: 'on'
  can_acknowledge: false
  repeat: 
  - 5
  - 360
  skip_first: true
  title: 'Update for HA available'
  message: "New version is {{ state_attr('sensor.updater_core', 'newest_version') }}. Currently on {{ state_attr('sensor.updater_core', 'current_version') }}"
  notifiers:
  - 'me'
  data:
    tag: 'ha-update-available'
    url: 'http://hassio.local/hassio/addon/core_check_config'
    ttl: 21600

# Supervisor update is available - un-acknowledgeable, auto-dismiss, me only
supervisor_update_available:
  name: Supervisor has an update
  entity_id: binary_sensor.updater_supervisor
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: 'Update for HA Supervisor available'
  message: "New version is {{ state_attr('sensor.supervisor_updates', 'newest_version') }}. Currently on {{ state_attr('sensor.supervisor_updates', 'current_version') }}"
  notifiers:
  - 'me'
  data:
    tag: 'supervisor-update-available'
    url: 'http://hassio.local/hassio/dashboard'
    ttl: 21600

# Audio update is available - un-acknowledgeable, auto-dismiss, me only
audio_update_available:
  name: Audio has an update
  entity_id: sensor.updater_audio
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: 'Update for HA Audio available'
  message: "New version is {{ state_attr('sensor.updater_audio', 'newest_version') }}. Currently on {{ state_attr('sensor.updater_audio', 'current_version') }}"
  notifiers:
  - 'me'
  data:
    tag: 'audio_update_available'
    url: 'http://hassio.local/hassio/dashboard'
    ttl: 21600

# DNS update is available - un-acknowledgeable, auto-dismiss, me only
dns_update_available:
  name: DNS has an update
  entity_id: sensor.updater_dns
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: 'Update for HA DNS available'
  message: "New version is {{ state_attr('sensor.updater_dns', 'newest_version') }}. Currently on {{ state_attr('sensor.updater_dns', 'current_version') }}"
  notifiers:
  - 'me'
  data:
    target: ''
    tag: 'dns_update_available'
    url: 'http://hassio.local/hassio/dashboard'
    ttl: 21600

# CLI update is available - un-acknowledgeable, auto-dismiss, me only
cli_update_available:
  name: CLI has an update
  entity_id: sensor.updater_cli
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: 'Update for HA CLI available'
  message: "New version is {{ state_attr('sensor.updater_cli', 'newest_version') }}. Currently on {{ state_attr('sensor.updater_cli', 'current_version') }}"
  notifiers:
  - 'me'
  data:
    target: ''
    tag: 'cli_update_available'
    url: 'http://hassio.local/hassio/dashboard'
    ttl: 21600

# HACS repos have updates available - unacknowledgeable, auto-dismiss, me only
hacs_update_available:
  name: HACS repos have updates
  entity_id: binary_sensor.updater_hacs
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: "Updates available in {{ states('sensor.hacs') }} HACS repo{% if states('sensor.hacs') | int > 1 %}s{% endif %}"
  message: ""
  notifiers:
    - 'me'
  data:
    tag: 'hacs-update-available'
    url: 'http://hassio.local/hacs/installed'
    ttl: 21600

# Addons have updates available - unacknowledgeable, auto-dismiss, me only
addon_update_available:
  name: Addons have updates
  entity_id: binary_sensor.updater_addons
  state: 'on'
  can_acknowledge: false
  repeat: 360
  title: "Updates available for {{ states('sensor.supervisor_updates') }} HA addon{% if states('sensor.supervisor_updates') | int > 1 %}s{% endif %}"
  message: ""
  notifiers:
  - 'me'
  data:
    tag: 'addon-update-available'
    url: 'http://hassio.local/hassio/dashboard'
    ttl: 21600